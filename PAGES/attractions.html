<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ—Å—Ç–∞ - Maply</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="../css/style-new.css">
    <style>
        .places-grid { display: grid; grid-template-columns: 1fr 400px; gap: 2rem; margin-top: 2rem; }
        .places-list { display: flex; flex-direction: column; gap: 1rem; max-height: 600px; overflow-y: auto; }
        .place-item { padding: 1.5rem; background: var(--bg-primary); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); cursor: pointer; transition: all var(--transition); border: 2px solid transparent; }
        .place-item:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); border-color: var(--accent-primary); }
        .place-item-icon { font-size: 2rem; margin-right: 1rem; }
        .place-item-title { font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; }
        .place-item-category { display: inline-block; padding: 0.25rem 0.75rem; background: var(--gradient-primary); color: white; border-radius: var(--radius-full); font-size: 0.75rem; margin-bottom: 0.5rem; }
        .map-container { position: sticky; top: 8rem; height: 600px; }
        #attractionsMap { width: 100%; height: 100%; border-radius: var(--radius-lg); }
        @media (max-width: 1024px) { .places-grid { grid-template-columns: 1fr; } .map-container { position: relative; top: 0; height: 400px; order: -1; }}
    </style>
</head>
<body>
    <nav class="floating-nav"><div class="nav-island">
        <a href="../index.html" class="nav-item"><span class="nav-icon">üè†</span><span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span></a>
        <a href="weather.html" class="nav-item"><span class="nav-icon">üå§Ô∏è</span><span class="nav-label">–ü–æ–≥–æ–¥–∞</span></a>
        <a href="attractions.html" class="nav-item active"><span class="nav-icon">üó∫Ô∏è</span><span class="nav-label">–ú–µ—Å—Ç–∞</span></a>
        <a href="routes.html" class="nav-item"><span class="nav-icon">üß≠</span><span class="nav-label">–ú–∞—Ä—à—Ä—É—Ç—ã</span></a>
        <a href="planner.html" class="nav-item"><span class="nav-icon">üìÖ</span><span class="nav-label">–ü–ª–∞–Ω</span></a>
        <a href="forum.html" class="nav-item"><span class="nav-icon">üí¨</span><span class="nav-label">–§–æ—Ä—É–º</span></a>
        <a href="about.html" class="nav-item"><span class="nav-icon">‚ÑπÔ∏è</span><span class="nav-label">–û –Ω–∞—Å</span></a>
        <a href="auth.html" class="nav-item"><span class="nav-icon">üë§</span><span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span></a>
        <button class="nav-item theme-toggle-btn" id="themeToggle"><span class="nav-icon">üåô</span><span class="nav-label">–¢–µ–º–∞</span></button>
    </div></nav>
    
    <section class="page-section" style="padding-top: 8rem;"><div class="container">
        <div class="section-header"><h1 class="section-title">–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h1><p class="section-subtitle">–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–µ—Å—Ç–∞</p></div>
        <div class="map-controls">
            <input type="text" id="attractionsCityInput" class="map-search" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥...">
            <button id="attractionsSearchBtn" class="map-btn">üîç –ù–∞–π—Ç–∏ –º–µ—Å—Ç–∞</button>
        </div>
        <div class="map-controls">
            <button class="filter-btn map-btn map-btn-secondary active" data-filter="all">üåü –í—Å–µ</button>
            <button class="filter-btn map-btn map-btn-secondary" data-filter="museums">üèõÔ∏è –ú—É–∑–µ–∏</button>
            <button class="filter-btn map-btn map-btn-secondary" data-filter="monuments">üóø –ü–∞–º—è—Ç–Ω–∏–∫–∏</button>
            <button class="filter-btn map-btn map-btn-secondary" data-filter="churches">‚õ™ –•—Ä–∞–º—ã</button>
            <button class="filter-btn map-btn map-btn-secondary" data-filter="parks">üå≥ –ü–∞—Ä–∫–∏</button>
            <button class="filter-btn map-btn map-btn-secondary" data-filter="theatres">üé≠ –¢–µ–∞—Ç—Ä—ã</button>
        </div>
        <div id="attractionsLoading" style="display: none; text-align: center; padding: 3rem;"><div style="font-size: 3rem; margin-bottom: 1rem;">‚è≥</div><p style="color: var(--text-secondary);">–ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Å—Ç...</p></div>
        <div id="attractionsError" style="display: none; padding: 2rem; background: rgba(244, 67, 54, 0.1); border-radius: var(--radius-lg); text-align: center;"><div style="font-size: 3rem; margin-bottom: 1rem;">‚ùå</div><p class="error-message" style="color: #f44336; font-weight: 600;"></p></div>
        <div id="attractionsResults" style="display: none;">
            <div style="margin-bottom: 2rem;"><h3 id="resultsTitle" style="font-size: 1.75rem; margin-bottom: 0.5rem;"></h3><p id="resultsCount" style="color: var(--text-secondary);"></p></div>
            <div class="places-grid"><div class="places-list" id="placesList"></div><div class="map-container"><div id="attractionsMap"></div></div></div>
        </div>
    </div></section>
    
    <div id="placeModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10000; align-items: center; justify-content: center;">
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px);" onclick="window.closeModal && closeModal()"></div>
        <div style="position: relative; background: var(--bg-primary); border-radius: var(--radius-xl); padding: 2.5rem; box-shadow: var(--shadow-xl); z-index: 10001; max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <button onclick="window.closeModal && closeModal()" style="position: absolute; top: 1rem; right: 1rem; font-size: 2rem; background: none; border: none; cursor: pointer; color: var(--text-secondary);">&times;</button>
            <div id="placeIcon" style="font-size: 4rem; text-align: center; margin-bottom: 1rem;"></div>
            <h2 id="placeTitle" style="text-align: center; margin-bottom: 1rem;"></h2>
            <div id="placeKinds" style="text-align: center; margin-bottom: 2rem;"></div>
            <div id="placeDescription" style="margin-bottom: 2rem; line-height: 1.8;"></div>
            <div style="background: var(--bg-secondary); padding: 1.5rem; border-radius: var(--radius-md); margin-bottom: 1.5rem;">
                <h4 style="margin-bottom: 1rem;">üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h4>
                <p><strong>–ê–¥—Ä–µ—Å:</strong> <span id="placeAddress"></span></p>
                <p><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</strong> <span id="placeCoords"></span></p>
            </div>
            <div class="map-controls">
                <button id="addToRouteBtn" class="map-btn">üß≠ –î–æ–±–∞–≤–∏—Ç—å –≤ –º–∞—Ä—à—Ä—É—Ç</button>
                <button id="addToPlannerBtn" class="map-btn map-btn-secondary">üìÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –ø–ª–∞–Ω</button>
            </div>
        </div>
    </div>
    
    <footer class="footer"><div class="container"><div class="footer-content">
        <div class="footer-brand"><div class="footer-logo"><span class="logo-icon">üó∫Ô∏è</span><span class="logo-text">Maply</span></div><p class="footer-text">–í–∞—à –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø—É—Ç–Ω–∏–∫ –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö</p></div>
        <div class="footer-links"><h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4><ul><li><a href="weather.html">–ü–æ–≥–æ–¥–∞</a></li><li><a href="attractions.html">–ú–µ—Å—Ç–∞</a></li><li><a href="routes.html">–ú–∞—Ä—à—Ä—É—Ç—ã</a></li></ul></div>
        <div class="footer-links"><h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4><ul><li><a href="about.html">–û –Ω–∞—Å</a></li><li><a href="forum.html">–§–æ—Ä—É–º</a></li><li><a href="auth.html">–í–æ–π—Ç–∏</a></li></ul></div>
    </div><div class="footer-bottom"><p>&copy; 2026 Maply. –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è</p></div></div></footer>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="../js/theme-new.js"></script>
    <script src="../js/theme-OLD.js"></script>
    <script src="../js/attractions.js"></script>
</body>
</html>
